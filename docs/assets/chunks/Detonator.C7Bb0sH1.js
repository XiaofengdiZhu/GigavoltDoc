import{d as v,ar as W,U as H,c as d,o as r,N as C,n as _,_ as b,p as c,as as k,F as f,j as D,G as M,T as $,w as B,e as x,C as T,b as I}from"./framework.CM9Y3eBy.js";const J="/GigavoltDoc/images/base/shift/wire.webp",K="/GigavoltDoc/images/base/shift/switch_and_button.webp",q="/GigavoltDoc/images/base/shift/GVDetonatorBlock.webp",G=v({__name:"DetonatorBlast",props:{properties:{}},setup(l){W(s=>({"2681bf4d":s.properties.Duration+"s","4dcfc3f8":s.properties.Width+"px",d68fa12e:s.properties.Height+"px",a5e3857c:s.properties.Top-s.properties.Height/2+"px","2b58d6e2":s.properties.Left-s.properties.Width/2+"px"}));const i=H({top:l.properties.Top+"px",left:l.properties.Left+"px"});return(s,o)=>(r(),d("div",{class:_(s.$style.blast),style:C(i)},null,6))}}),V="_blast_1iftg_3",L={blast:V},N={$style:L},E=b(G,[["__cssModules",N]]);class g{constructor(i,s,o,a,n,h){this.Id=i,this.Width=s,this.Height=o,this.Left=a,this.Top=n,this.Duration=h}}const F=v({__name:"Detonator",setup(l){const i=c(null),s=c(null),o=c([]),a=c(!1);k();let n;const h=()=>{if(a.value)return;a.value=!0;let t=document.documentElement;t.style.overflow="hidden",t.requestFullscreen(),t.style.transitionDuration="2s",t.style.backgroundColor="black",n=i.value.getBoundingClientRect()};let p=0,e={windowWidth:0,windowHeight:0,baseWidth:0,baseHeight:0};const y=()=>{e.windowWidth=window.innerWidth,e.windowHeight=window.innerHeight,e.baseWidth=e.windowWidth*2,e.baseHeight=e.windowWidth>e.windowHeight?e.windowHeight*2:e.baseWidth,o.value.push(new g(p++,e.baseWidth,e.baseHeight,n.left+n.width/2,n.top+n.height/2,3.5)),setTimeout(()=>{w()},4e3)};function w(){o.value.length>10&&o.value.shift();let t=Math.random()*.3,u=t*6+1.2;t+=.1,e.windowWidth<e.windowHeight&&(t*=Math.random()*e.windowHeight/e.windowWidth+1),o.value.push(new g(p++,e.baseWidth*t,e.baseHeight*t,e.windowWidth*(Math.random()*.8+.1),e.windowHeight*(Math.random()*.8+.1),u)),setTimeout(()=>{w()},(u*1e3*Math.random()+400)*Math.max(1-p*.01,.25))}return(t,u)=>(r(),d(f,null,[D("img",{class:_([t.$style.icon,"center_image small"]),src:q,style:{width:"60px"},ref_key:"iconImg",ref:i,onClick:h},null,2),M($,{"enter-active-class":t.$style.v_enter_active,"enter-from-class":t.$style.v_enter_from,onAfterEnter:y},{default:B(()=>[a.value?(r(),d("div",{key:0,class:_(t.$style.container),ref_key:"explosionContainer",ref:s},[(r(!0),d(f,null,T(o.value,m=>(r(),I(E,{key:m.Id,properties:m},null,8,["properties"]))),128))],2)):x("",!0)]),_:1},8,["enter-active-class","enter-from-class"])],64))}}),R="_icon_5q7yx_3",S="_v_enter_active_5q7yx_123",z="_v_enter_from_5q7yx_131",A="_container_5q7yx_139",j={icon:R,v_enter_active:S,v_enter_from:z,container:A},P={$style:j},O=b(F,[["__cssModules",P]]);export{O as D,J as _,K as a};
